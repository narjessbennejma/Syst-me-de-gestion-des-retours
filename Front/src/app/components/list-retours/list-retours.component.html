<mat-card class="mat-elevation-z4">
    <mat-card-header>
        <mat-card-title>Retours en cours</mat-card-title>
    </mat-card-header>

    <mat-divider></mat-divider>

    <div class="table-container">
        <table mat-table [dataSource]="retours" class="mat-elevation-z1" *ngIf="retours.length > 0">

            <!-- ID -->
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>ID</th>
                <td mat-cell *matCellDef="let retour">{{ retour.id }}</td>
            </ng-container>

            <!-- Produit -->
            <ng-container matColumnDef="produit">
                <th mat-header-cell *matHeaderCellDef>Produit</th>
                <td mat-cell *matCellDef="let retour">{{ retour.produit.labelle }}</td>
            </ng-container>

            <!-- Client -->
            <ng-container matColumnDef="client">
                <th mat-header-cell *matHeaderCellDef>Client</th>
                <td mat-cell *matCellDef="let retour">{{ retour.client.nom }}</td>
            </ng-container>

            <!-- Commande -->
            <ng-container matColumnDef="commande">
                <th mat-header-cell *matHeaderCellDef>Commande</th>
                <td mat-cell *matCellDef="let retour">{{ retour.commande.id }}</td>
            </ng-container>

            <!-- Raison -->
            <ng-container matColumnDef="raison">
                <th mat-header-cell *matHeaderCellDef>Raison</th>
                <td mat-cell *matCellDef="let retour">{{ retour.raison }}</td>
            </ng-container>

            <!-- Date -->
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef>Date</th>
                <td mat-cell *matCellDef="let retour">{{ retour.date | date:'dd/MM/yyyy' }}</td>
            </ng-container>

            <!-- Actions -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let retour">
                    

                    
          <button mat-flat-button color="primary" (click)="traiterRetour(retour)" class="btn-accepter" >
            <i class="fas fa-check-circle"></i> Accepter
          </button>
          <button mat-flat-button color="warn" (click)="refuserRetour(retour.id!)" class="btn-refuser">
            <i class="fas fa-times-circle"></i> Refuser
          </button>
        </td>
                

            </ng-container>

            <!-- Header et ligne -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>

        <p *ngIf="retours.length === 0" class="no-data">Aucun retour en cours.</p>
    </div>
</mat-card>